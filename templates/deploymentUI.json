{
  "$schema": "https://schema.management.azure.com/schemas/deploymentTemplateUI.json#",
  "contentVersion": "1.0.0.0",
  "parameters": {
    "location": {
      "type": "string",
      "defaultValue": "eastus",
      "allowedValues": ["eastus", "westus"],
      "metadata": { "description": "Select region" }
    },
    "enableDataConnectors": {
      "type": "array",
      "defaultValue": [],
      "allowedValues": ["AzureActivityLog", "WindowsFirewall"],
      "metadata": { "description": "Select connectors" }
    }
  },
  "formDefinition": {
    "name": "RootStep",
    "label": "Root Step",
    "steps": [
      {
        "name": "page1",
        "label": "Page 1: Workspace",
        "elements": [
          {
            "name": "location",
            "type": "dropdown",
            "label": "Location",
            "constraints": { "allowedValues": ["eastus", "westus"] }
          }
        ]
      },
      {
        "name": "page2",
        "label": "Page 2: Data Connectors",
        "elements": [
          {
            "name": "enableDataConnectors",
            "type": "dropdown",
            "label": "Enable Data Connectors",
            "constraints": { "allowedValues": ["AzureActivityLog", "WindowsFirewall"] },
            "multiSelect": true
          }
        ]
      }
    ]
  }
}
